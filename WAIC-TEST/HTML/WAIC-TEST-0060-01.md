# テスト ID

WAIC-TEST-0060-01

# テストのタイトル

制限時間が切れようとしていることを利用者に警告するスクリプトを提供する

# テストの目的

JavaScriptを用いて、制限時間が切れようとしていることを利用者に警告すること、制限時間が延長できることを確認する

# テストの対象となる達成基準 (複数)

2.2.1

# 関連する達成方法 (複数)

SCR16

# テストコード (テストファイルへのリンク)

[WAIC-CODE-0060-01](https://waic.github.io/as_test/WAIC-CODE/WAIC-CODE-0060-01.html)

# テストコードのソース (抜粋)

```JavaScript
    function timeControl() {
        // タイマーを40秒に設定し、利用者に確認を求める
        setTimeout('userCheck()', 40000);
    }
    function userCheck() {
        // ページの再読み込みを20秒に設定する
        var id=setTimeout('pageReload()', 20000);
        // 利用者が「OK」を選択した場合、タイマーがリセットされる
        // それ以外の場合、サーバーによりページが再読み込みされる
        if (confirm("このページは20秒後に更新されます。表示時間を延長しますか?"))
        {
            clearTimeout(id);
            timeControl();
        }
    }
    function pageReload() {
        window.location.reload(true);
    }
    timeControl();
```

# テスト手順 (視覚閲覧環境)

## テスト手順 1

ページを表示し、「このページを表示した時刻」に現在の時刻が表示されていることを確認する。そのまま40秒待つ

### 期待される結果 1

40秒待つと、「このページは20秒後に更新されます。表示時間を延長しますか?」というダイアログが表示される

## テスト手順 2

「テスト手順 1」を実施し、「期待される結果 1」にてダイアログが表示されたあと、20秒以内にダイアログ内の「OK」ボタンをクリックする

### 期待される結果 2

ダイアログが閉じる。そのまま20秒待っても何も起きず、「このページを表示した時刻」に表示されている時刻も更新されない

## テスト手順 3

「テスト手順 1」を実施し、「期待される結果 1」にてダイアログが表示されたあと、20秒以内にダイアログ内の「キャンセル」ボタンをクリックする

### 期待される結果 3

ダイアログが閉じる。そのまま20秒待つとページが再読み込みされ、「このページを表示した時刻」に表示される時刻が更新される

## テスト手順 4

「テスト手順 1」を実施し、「期待される結果 1」にてダイアログが表示されたあと、ダイアログ内のボタンをクリックせず、そのまま20秒待つ

### 期待される結果 4

ダイアログが閉じる。そのまま20秒待つとページが再読み込みされ、「このページを表示した時刻」に表示される時刻が更新される

# テスト実施時の注意点 (視覚閲覧環境)

ブラウザのJavaScriptが有効になっていることを確認すること

# テスト手順と期待される結果 (音声閲覧環境)

## テスト手順 1

ページを表示し、「このページを表示した時刻」に現在の時刻が表示されていることを確認する。そのまま40秒待つ

### 期待される結果 1

40秒待つと、「このページは20秒後に更新されます。表示時間を延長しますか?」というダイアログが表示される

## テスト手順 2

「テスト手順 1」を実施し、「期待される結果 1」にてダイアログが表示されたあと、20秒以内にダイアログ内の「OK」ボタンをクリックする

### 期待される結果 2

ダイアログが閉じる。そのまま20秒待っても何も起きず、「このページを表示した時刻」に表示されている時刻も更新されない

## テスト手順 3

「テスト手順 1」を実施し、「期待される結果 1」にてダイアログが表示されたあと、20秒以内にダイアログ内の「キャンセル」ボタンをクリックする

### 期待される結果 3

ダイアログが閉じる。そのまま20秒待つとページが再読み込みされ、「このページを表示した時刻」に表示される時刻が更新される

## テスト手順 4

「テスト手順 1」を実施し、「期待される結果 1」にてダイアログが表示されたあと、ダイアログ内のボタンをクリックせず、そのまま20秒待つ

### 期待される結果 4

20秒待つとページが再読み込みされ、「このページを表示した時刻」に表示される時刻が更新される

# テスト実施時の注意点 (音声閲覧環境)

特になし

# 関連する要素や属性

script 要素
