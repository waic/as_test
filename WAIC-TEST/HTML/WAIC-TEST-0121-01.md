# テスト ID

WAIC-TEST-0121-01

# テストのタイトル

制限時間が切れようとしていることを利用者に警告するスクリプトを提供する

# テストの目的

JavaScriptを用いて、制限時間が切れようとしていることを利用者に警告すること、制限時間が延長できることを確認する

# テストの対象となる達成基準 (複数)

2.2.1

# 関連する達成方法 (複数)

SCR16

# テストコード (テストファイルへのリンク)

[WAIC-CODE-0121-01](https://waic.github.io/as_test/WAIC-CODE/WAIC-CODE-0121-01.html)

# テストコードのソース (抜粋)

```JavaScript
    function timeControl() {
        // タイマーを40秒に設定し、利用者に確認を求める
        setTimeout('userCheck()', 40000);
    }
    function userCheck() {
        // ページの再読み込みを20秒に設定する
        var id = setTimeout('pageReload()', 20000);
        // 利用者が「OK」を選択した場合、タイマーがリセットされる
        // それ以外の場合、サーバーによりページが再読み込みされる
        if (confirm("このページは20秒後に更新されます。表示時間を延長しますか?"))
        {
            clearTimeout(id);
            timeControl();
        }
    }
    function pageReload() {
        window.location.reload(true);
    }
    timeControl();
```

# テスト手順 (視覚閲覧環境)

## テスト手順

ページを表示し、「このページを表示した時刻」に現在の時刻が表示されていることを確認する。そのまま40秒待つ

## 期待される結果

40秒待つと、「このページは20秒後に更新されます。表示時間を延長しますか?」というダイアログが表示される

# テスト実施時の注意点 (視覚閲覧環境)

- ブラウザのJavaScriptが有効になっていることを確認すること
- ウィンドウを非アクティブにした場合にも問題なく動作するか確認すること

# テスト手順と期待される結果 (音声閲覧環境)

## テスト手順

ページを表示し、「このページを表示した時刻」に現在の時刻が表示されていることを確認する。そのまま40秒待つ

## 期待される結果

40秒待つと、「このページは20秒後に更新されます。表示時間を延長しますか?」という警告メッセージが通知される

# テスト実施時の注意点 (音声閲覧環境)

- ブラウザのJavaScriptが有効になっていることを確認すること
- ウィンドウを非アクティブにした場合にも問題なく動作するか確認すること

# 関連する要素や属性

script 要素
